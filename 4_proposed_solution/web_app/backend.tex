\subsection{Backend \acrshort{rest} \acrshort{api}}

The OpenPRA backend is a Node.js based \acrshort{rest} \acrshort{api} that coordinates all qualitative \acrshort{pra} workflows, exposing \acrfull{crud} endpoints for every element defined by the OpenPRA \acrfull{mef} schema. Contrary to the distributed job system's \acrshort{rest} \acrshort{api}, which is an independent microservice dedicated to quantification operations only, the backend \acrshort{rest} \acrshort{api} is tightly integrated with the web front‑end and the distributed databases. Thus, computational requests are routed to the job broker’s \acrshort{api}, while model editing, security, and user management operations are handled by the backend \acrshort{api}. All client requests from the front-end go through this \acrshort{api}, which handles user authentication, authorization, and persists model data in the distributed databases. In practice, each \acrshort{mef} namespace has a corresponding set of \acrshort{api} routes. For example, endpoints such as \texttt{`/api/fault-trees`} or \texttt{`/api/event-trees`} allow clients to create, read, update, or delete the graph-structured \acrshort{pra} models.  The front‑end data is first validated by the Nestia runtime library against the OpenPRA \acrshort{mef} \acrshort{json} schema and then they are saved as \acrfull{bson} documents inside the database.

The backend implements full user and collaboration management.  It provides endpoints for user registration, login (issuing JWT tokens), password verification, and user profile or solver preferences.  It secures these endpoints using JWT/OAuth2 guards and role-based access control. Role and invitation endpoints allow administrators to create new roles, assign permissions, and manage team collaboration (including sending or verifying invitation tokens for new users).  

Table \ref{tab:openpra-backend-endpoints} lists the main \acrshort{api} entry points (grouped by function), with the \acrshort{http} request methods they support and a brief description of each endpoint’s purpose:

\input{4_proposed_solution/web_app/tables/api_endpoints}
